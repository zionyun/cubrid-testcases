===================================================
0
===================================================
0
===================================================
    
case 1: When a user without permissions grants privileges to themselves     

===================================================
0
===================================================
0
===================================================
    
grant to dba.tbl, dba.hello from dba to dba     

===================================================
0
===================================================
0
===================================================
    
connect to u1     

===================================================
    
null     

===================================================
    
ERROR: SELECT authorization failure     

===================================================
Error:-157
===================================================
    
ERROR: Cannot issue GRANT/REVOKE to owner of a class     

===================================================
Error:-146
===================================================
    
ERROR: Only DBA and the owner can grant the EXECUTE privilege     

===================================================
Error:-1365
===================================================
Error:-1365
===================================================
grantor_name    grantee_name    object_type    object_name    owner_name    auth_type    is_grantable    

===================================================
owner.name    grants    
U1          

===================================================
    
connect to dba and test init     

===================================================
    
null     

===================================================
0
===================================================
0
===================================================
    
case 2: When a user without WITH GRANT OPTION privilege grants privileges to themselves     

===================================================
0
===================================================
0
===================================================
0
===================================================
0
===================================================
    
connect u1     

===================================================
    
null     

===================================================
    
ERROR: No GRANT option     

===================================================
Error:-147
===================================================
Error:-147
===================================================
    
ERROR: Cannot issue GRANT/REVOKE to owner of a class     

===================================================
Error:-146
===================================================
    
ERROR: Only the DBA and the owner can grant the EXECUTE privilege     

===================================================
Error:-1365
===================================================
Error:-1365
===================================================
    
ERROR: Only DBA and the owner can grant the EXECUTE privilege     

===================================================
Error:-1365
===================================================
grantor_name    grantee_name    object_type    object_name    owner_name    auth_type    is_grantable    
DBA     U1     CLASS     tbl     DBA     SELECT     NO     
DBA     U1     FUNCTION     hello     DBA     EXECUTE     NO     

===================================================
owner.name    grants    
U1     null     
U2          

===================================================
    
connect to dba and test init     

===================================================
    
null     

===================================================
0
===================================================
0
===================================================
0
===================================================
0
===================================================
    
case 3: When a user with WITH GRANT OPTION privilege grants privileges to themselves     

===================================================
0
===================================================
0
===================================================
0
===================================================
0
===================================================
    
connect to u1, success     

===================================================
    
null     

===================================================
0
===================================================
0
===================================================
    
ERROR: Cannot issue GRANT/REVOKE to owner of a class     

===================================================
Error:-146
===================================================
    
ERROR: Only DBA and the owner can grant the EXECUTE privilege     

===================================================
Error:-1365
===================================================
Error:-1365
===================================================
    
ERROR: Only DBA and the owner can grant the EXECUTE privilege     

===================================================
Error:-1365
===================================================
grantor_name    grantee_name    object_type    object_name    owner_name    auth_type    is_grantable    
DBA     U1     CLASS     tbl     DBA     SELECT     YES     
DBA     U1     FUNCTION     hello     DBA     EXECUTE     NO     
U1     U2     CLASS     tbl     DBA     SELECT     NO     

===================================================
owner.name    grants    
U1     null     
U2     null     

===================================================
    
connect to u1 and revoke to dba.tbl from u2     

===================================================
    
null     

===================================================
0
===================================================
    
connecdt to dba and test done     

===================================================
    
null     

===================================================
0
===================================================
0
===================================================
0
===================================================
0
===================================================
0
===================================================
0
